<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Benny Hartnett</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700&display=swap" rel="stylesheet">
    <link id="favicon" rel="icon" href="https://img.icons8.com/material-outlined/24/000000/console.png">
    <style>
        body {
            margin: 0;
            font-family: 'Arial', sans-serif;
            background: linear-gradient(45deg, #1e1e1e, #333);
            color: #fff;
            overflow: hidden;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('https://www.transparenttextures.com/patterns/asfalt-light.png');
            animation: moveBackground 10s linear infinite;
            z-index: -1;
        }

        @keyframes moveBackground {
            from { background-position: 0 0; }
            to { background-position: 100% 100%; }
        }

        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            z-index: 1;
            transition: transform 0.1s ease-out;
        }

        header h1 {
            font-family: 'Poppins', sans-serif;
            font-size: 3em;
            margin: 0;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
            opacity: 0;
            transform: scale(0.9);
            transition: all 0.3s ease-out;
        }

        .fade-scale-in {
            opacity: 1;
            transform: scale(1);
        }

        .fade-scale-out {
            opacity: 0;
            transform: scale(0.9);
        }

        main {
            display: flex;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
            justify-content: center;
        }

        .box {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 120px;
            height: 120px;
            background: linear-gradient(45deg, #6e7dff, #88e5ff);
            border-radius: 15px;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
            opacity: 0;
            transform: scale(0.9);
            transition: opacity 0.5s ease-out, transform 0.5s ease-out, background-color 3s linear;
            cursor: pointer;
        }

        .box i {
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .box:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.6);
            animation: rgbCycle 5s infinite linear;
        }

        @keyframes rgbCycle {
            0% { background-color: #ff0000; }
            33% { background-color: #00ff00; }
            66% { background-color: #0000ff; }
            100% { background-color: #ff0000; }
        }
    </style>
</head>
<body>
    <div class="background"></div>
    <div class="container" id="container">
        <header>
            <h1 id="dynamic-text">Benny Hartnett</h1>
        </header>
        <main>
            <div class="box" id="linkedin">
                <i class="fab fa-linkedin"></i>
            </div>
            <div class="box" id="rocket">
                <i class="fas fa-rocket"></i>
            </div>
            <div class="box" id="email">
                <i class="fas fa-envelope"></i>
            </div>
        </main>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const container = document.getElementById('container');
            const boxes = document.querySelectorAll('.box');
            const dynamicText = document.getElementById('dynamic-text');

            const words = [
                "Innovation",
                "Software Development",
                "Systems Engineering",
                "IoT",
                "Solutions Architecture",
                "Generative AI",
                "Benny Hartnett"
            ];

            let queue = [];
            let processing = false;
            const maxQueueSize = 1;

            const processQueue = async () => {
                if (processing) return;
                processing = true;

                while (queue.length > 0) {
                    const { text, resolve } = queue.shift();
                    await fadeOutText();
                    dynamicText.textContent = text;
                    await fadeInText();
                    resolve();
                }

                processing = false;
            };

            const enqueueTransition = (text) => {
                return new Promise((resolve) => {
                    if (queue.length >= maxQueueSize) {
                        queue[queue.length - 1] = { text, resolve };
                    } else {
                        queue.push({ text, resolve });
                    }
                    processQueue();
                });
            };

            const fadeOutText = () => {
                return new Promise((resolve) => {
                    dynamicText.classList.remove('fade-scale-in');
                    dynamicText.classList.add('fade-scale-out');
                    setTimeout(resolve, 300); // Match original timing
                });
            };

            const fadeInText = () => {
                return new Promise((resolve) => {
                    dynamicText.classList.remove('fade-scale-out');
                    dynamicText.classList.add('fade-scale-in');
                    setTimeout(resolve, 300); // Match original timing
                });
            };

            const showButtons = () => {
                boxes.forEach((box, index) => {
                    setTimeout(() => {
                        box.style.opacity = 1;
                        box.style.transform = 'scale(1)';
                    }, 200 * index); // Staggered appearance for buttons
                });
            };

            const changeText = async () => {
                for (const word of words) {
                    await enqueueTransition(word);
                }
                showButtons(); // Show buttons after all text finishes
            };

            changeText(); // Start the text change sequence

            document.addEventListener('mousemove', (e) => {
                const x = (e.pageX - window.innerWidth / 2) / 100;
                const y = (e.pageY - window.innerHeight / 2) / 100;

                container.style.transform = `translateX(${x * 2}px) translateY(${y * 2}px)`;

                dynamicText.style.transform = `translateX(${x}px) translateY(${y}px) rotateX(${y * 3}deg) rotateY(${x * 3}deg)`;

                boxes.forEach((box, index) => {
                    const boxX = x * (index + 1) * 1.5;
                    const boxY = y * (index + 1) * 1.5;
                    box.style.transform = `translateX(${boxX}px) translateY(${boxY}px) rotateX(${y * 3}deg) rotateY(${x * 3}deg)`;
                });
            });

            // Add event listeners for box clicks
            document.getElementById('linkedin').addEventListener('click', () => {
                window.open('https://www.linkedin.com/in/dev-dc/', '_blank');
            });

            document.getElementById('rocket').addEventListener('click', () => {
                window.open('https://example.com/rocket-ship', '_blank');
            });

            document.getElementById('email').addEventListener('click', () => {
                window.location.href = 'mailto:me@bennyhartnett.com';
            });

            // Add hover effects to change text with the same transition effect
            document.getElementById('linkedin').addEventListener('mouseenter', () => {
                enqueueTransition("LinkedIn");
            });

            document.getElementById('linkedin').addEventListener('mouseleave', () => {
                enqueueTransition("Benny Hartnett");
            });

            document.getElementById('rocket').addEventListener('mouseenter', () => {
                enqueueTransition("Experiments");
            });

            document.getElementById('rocket').addEventListener('mouseleave', () => {
                enqueueTransition("Benny Hartnett");
            });

            document.getElementById('email').addEventListener('mouseenter', () => {
                enqueueTransition("Mail");
            });

            document.getElementById('email').addEventListener('mouseleave', () => {
                enqueueTransition("Benny Hartnett");
            });
        });

        function terminalTitle() {
            let title = "root@benny:"; // Initial prompt
            let cursor = true;
            let speed = 500; // Speed in milliseconds for blinking
            let typingSpeed = 200; // Speed in milliseconds for typing
            let command = " sudo rm -rf / --no-preserve-root"; // Command to type out
            let currentIndex = 0;

            function blinkCursor() {
                document.title = cursor ? `${title}_` : `${title} `;
                cursor = !cursor;
                setTimeout(blinkCursor, speed);
            }

            function typeCommand() {
                if (currentIndex < command.length) {
                    title += command.charAt(currentIndex);
                    currentIndex++;
                    setTimeout(typeCommand, typingSpeed);
                } else {
                    blinkCursor(); // Resume blinking cursor after typing
                }
            }

            setTimeout(typeCommand, 3000); // Start typing after 3 seconds
            blinkCursor(); // Start blinking cursor initially
        }

        // Favicon animation function
        function animateFavicon() {
            const icons = [
                "https://img.icons8.com/material-outlined/24/000000/console.png", // Terminal icon
                "https://img.icons8.com/material-outlined/24/000000/wifi.png",    // Wi-Fi icon
                "https://img.icons8.com/ios-glyphs/30/000000/rocket--v1.png"      // Rocket icon
            ];
            let currentIndex = 0;
            const speed = 1000; // Speed in milliseconds (1 second) for each icon switch

            function toggleFavicon() {
                document.getElementById('favicon').setAttribute('href', icons[currentIndex]);
                currentIndex = (currentIndex + 1) % icons.length; // Loop through all icons
                setTimeout(toggleFavicon, speed);
            }

            toggleFavicon(); // Start the animation effect
        }

        // Ensure both functions run on window load
        window.onload = function() {
            terminalTitle();
            animateFavicon();
        };
    </script>
</body>
</html>
